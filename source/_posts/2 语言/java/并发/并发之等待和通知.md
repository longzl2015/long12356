---
title: 并发之等待和通知.md
date: 2016-03-20 16:55:50
tags: [wait,]
categories: [并发]
---

[TOC]

<!--more-->

## 线程之间通讯

1. 轮询方式，浪费cpu计算资源
2. 通知等待机制，通过wait/notify/notifyAll实现。

[notify 和 notifyAll 区别比较](http://www.importnew.com/10173.html)
[使用wait/notify/notifyAll实现线程间通信的几点重要说明](使用wait/notify/notifyAll实现线程间通信的几点重要说明)

notify可能会引起死锁，因此一般提倡使用notifyAll。

## sleep方法和wait方法有什么区别

最大的不同点：wait释放锁，sleep不释放锁。wait用于线程交互，sleep用于暂停执行。

其他不同：

- wait是object方法。sleep是Thread的静态方法。
- wait在synchronized中被调用。sleep任何地方都可以。
- sleep需要捕捉异常。wait不需要。

## Thread.sleep(0)

由于Java采用抢占式的线程调度算法，因此可能会出现某条线程常常获取到CPU控制权的情况，为了让某些优先级比较低的线程也能获取到CPU控制权，可以使用Thread.sleep(0)**手动触发一次操作系统分配时间片**的操作，这也是平衡CPU控制权的一种操作。

